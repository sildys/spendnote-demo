<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Transaction details in SpendNote.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
    <title>Transaction — - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css?v=12">
    <link rel="stylesheet" href="assets/css/app-layout.css?v=14">
    <link rel="stylesheet" href="assets/css/transaction-detail.css?v=2">
</head>
<body>
<div id="nav-container"></div>

<div class="app-container">
    <main class="main-content">
        <div class="tx-topbar" id="txTopbar">
            <div class="tx-top-grid">
                <div class="tx-topbar-card tx-info-card" id="txInfoCard">
                    <div class="tx-info-watermark" id="txTypeWatermark">IN</div>
                    <div class="tx-void-meta" id="txVoidMeta" style="display: none;"></div>

                    <div class="tx-summary-left">
                        <!-- Transaction ID (PRIMARY) -->
                        <div class="tx-id-section">
                            <span class="tx-id-label">Transaction ID</span>
                            <h1 class="tx-id-value" id="txTitle">—</h1>
                        </div>

                        <!-- Cash Box Info (SECONDARY) -->
                        <div class="tx-cashbox-header">
                            <div class="tx-cashbox-icon" id="txCashBoxIcon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="tx-cashbox-info">
                                <div class="tx-cashbox-name" id="txCashBoxName">—</div>
                                <div class="tx-cashbox-id" id="txCashBoxId">—</div>
                            </div>
                        </div>

                        <!-- Date & Created By -->
                        <div class="tx-meta-row">
                            <div class="tx-date-row" id="txMetaDate"><i class="fas fa-calendar"></i> —</div>
                            <div class="tx-created-by">
                                <i class="fas fa-user"></i>
                                <span class="tx-created-by-name" id="txCreatedBy">—</span>
                            </div>
                        </div>
                    </div>

                    <div class="tx-amount-corner" id="txHeaderAmount">
                        <div class="value" id="txAmountValue">—</div>
                    </div>
                </div>

                <div class="info-card">
                    <div class="info-card-title"><i class="fas fa-user"></i> Contact</div>
                    <div class="info-grid">
                        <div class="info-row">
                            <span class="info-label">Name</span>
                            <span class="info-value" id="txContactName">—</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Contact ID</span>
                            <span class="info-value" id="txContactId">—</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Other ID</span>
                            <span class="info-value" id="txContactOtherId">—</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Address</span>
                            <span class="info-value" id="txContactAddress">—</span>
                        </div>
                    </div>
                </div>

                <div class="line-items-card">
                    <div class="line-items-header">
                        <div class="line-items-title"><i class="fas fa-list"></i> Line Items</div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody id="txLineItemsBody">
                            <tr><td>—</td><td>—</td></tr>
                        </tbody>
                    </table>
                    <div class="note-section" id="txNoteSection" style="display: none;">
                        <div class="note-label">Note</div>
                        <div class="note-text" id="txNote"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tx-actions-row" aria-label="Receipt actions">
            <div class="left">
                <button class="tx-delete-trigger" id="txDeleteToggle" type="button"><i class="fas fa-trash"></i> Delete</button>
                <button class="btn btn-outline-primary btn-duplicate" id="txDuplicateBtn" type="button" data-tx-id=""><i class="fas fa-copy"></i> Duplicate</button>
            </div>
            <div class="right">
                <button class="btn btn-primary" id="txPrintBtn" type="button"><i class="fas fa-print"></i> Print</button>
                <button class="btn btn-secondary" id="txPdfBtn" type="button"><i class="fas fa-file-pdf"></i> PDF</button>
                <button class="btn btn-secondary" id="txEmailBtn" type="button"><i class="fas fa-envelope"></i> Email</button>
            </div>
        </div>

        <div class="tx-void-panel" id="txVoidPanel">
            <div class="copy">
                <strong>Delete is not available.</strong> Transactions cannot be deleted; only a <strong>VOID</strong> operation is allowed. VOID is <strong>irreversible</strong> and requires <strong>admin</strong> permissions.
            </div>
            <div class="actions">
                <button class="btn btn-secondary" id="txVoidBtn" type="button" disabled><i class="fas fa-ban"></i> Void transaction</button>
                <span class="note" id="txVoidNote">Admin required</span>
            </div>
        </div>

        <div class="settings-grid">

        <!-- RECEIPT & PRINT - Collapsible -->
        <div class="collapsible-section">
            <div class="collapsible-header">
                <div class="collapsible-title">
                    <i class="fas fa-receipt"></i>
                    Receipt & Print Settings
                </div>
            </div>
            <div class="collapsible-content" id="receiptSection">
                <div class="receipt-layout">
                    <!-- Controls -->
                    <div class="receipt-controls">
                        <!-- Format -->
                        <div>
                            <div class="control-group-label">Format</div>
                            <div class="format-buttons">
                                <button class="format-btn active" data-format="a4">
                                    <i class="fas fa-copy"></i>
                                    Print
                                </button>
                                <button class="format-btn" data-format="pdf">
                                    <i class="fas fa-file-pdf"></i>
                                    PDF
                                </button>
                                <button class="format-btn" data-format="email">
                                    <i class="fas fa-envelope"></i>
                                    Email
                                </button>
                            </div>
                        </div>

                        <!-- Mode -->
                        <div>
                            <div class="control-group-label">Fields</div>
                            <div class="mode-toggle">
                                <input type="radio" name="receiptMode" id="receiptModeQuick" value="quick" checked>
                                <label for="receiptModeQuick">Quick</label>
                                <input type="radio" name="receiptMode" id="receiptModeDetailed" value="detailed">
                                <label for="receiptModeDetailed">Detailed</label>
                            </div>
                        </div>

                        <!-- Quick Summary -->
                        <div id="receiptQuickSummary" class="quick-summary">
                            <strong>Quick preset:</strong> Logo, addresses, line items, total, signatures
                        </div>

                        <!-- Detailed Toggles -->
                        <div id="receiptDetailedToggles" class="toggle-list" style="display: none;">
                            <div class="toggle-item">
                                <span>Logo</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked data-field="logo">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-item">
                                <span>Addresses</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked data-field="addresses">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-item">
                                <span>Receipt IDs</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" data-field="tracking">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-item">
                                <span>Additional IDs</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" data-field="additional">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-item">
                                <span>Notes</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" data-field="note">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-item">
                                <span>Signatures</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" data-field="signatures">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Preview -->
                    <div class="receipt-preview">
                        <div class="preview-toolbar">
                            <div class="preview-label"><i class="fas fa-eye"></i> Preview</div>
                            <div class="zoom-controls">
                                <button class="zoom-btn" id="zoomOutBtn" type="button"><i class="fas fa-minus"></i></button>
                                <span class="zoom-level" id="zoomLevel">60%</span>
                                <button class="zoom-btn" id="zoomInBtn" type="button"><i class="fas fa-plus"></i></button>
                                <button class="zoom-btn" id="zoomResetBtn" type="button"><i class="fas fa-redo"></i></button>
                            </div>
                        </div>
                        <div class="preview-frame-container" id="receiptPreviewContainer">
                            <iframe id="receiptFrame" class="preview-frame" src="about:blank"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PRO OPTIONS - Collapsible -->
        <div class="collapsible-section">
            <div class="collapsible-header">
                <div class="collapsible-title">
                    <i class="fas fa-crown"></i>
                    Pro Options
                    <span class="pro-badge"><i class="fas fa-crown"></i> Pro</span>
                </div>
            </div>
            <div class="collapsible-content" id="proSection">
                <div class="pro-content">
                    <div class="pro-grid">
                        <div class="pro-field full">
                            <label>Logo</label>
                            <div class="pro-logo-box">
                                <div class="pro-logo-preview" id="txLogoPreview"><img id="txLogoPreviewImg" alt="" /></div>
                                <div class="pro-logo-actions">
                                    <input type="file" id="txLogoInput" accept="image/png,image/jpeg,image/jpg,image/svg+xml" style="display: none;">
                                    <button type="button" class="btn btn-secondary" id="txUploadLogoBtn"><i class="fas fa-upload"></i> Upload</button>
                                    <button type="button" class="btn btn-secondary" id="txRemoveLogoBtn" style="display: none;"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                            </div>
                        </div>
                        <div class="pro-field">
                            <label>Receipt Title</label>
                            <input type="text" id="txReceiptTitle" placeholder="Cash Receipt">
                        </div>
                        <div class="pro-field">
                            <label>Total Label</label>
                            <input type="text" id="txTotalLabel" placeholder="Total handed over">
                        </div>
                        <div class="pro-field">
                            <label>From Label</label>
                            <input type="text" id="txFromLabel" placeholder="FROM">
                        </div>
                        <div class="pro-field">
                            <label>To Label</label>
                            <input type="text" id="txToLabel" placeholder="TO">
                        </div>
                        <div class="pro-field">
                            <label>Description Label</label>
                            <input type="text" id="txDescriptionLabel" placeholder="Description">
                        </div>
                        <div class="pro-field">
                            <label>Amount Label</label>
                            <input type="text" id="txAmountLabel" placeholder="Amount">
                        </div>
                        <div class="pro-field">
                            <label>Issued By Label</label>
                            <input type="text" id="txIssuedByLabel" placeholder="Issued by">
                        </div>
                        <div class="pro-field">
                            <label>Received By Label</label>
                            <input type="text" id="txReceivedByLabel" placeholder="Received by">
                        </div>
                        <div class="pro-field full">
                            <label>Footer Note</label>
                            <textarea rows="2" id="txFooterNote" placeholder="Thank you for your business!"></textarea>
                        </div>
                        <div class="pro-field full" style="text-align: right; margin-top: 8px;">
                            <button type="button" class="btn btn-primary" id="txSaveLabelsBtn"><i class="fas fa-save"></i> Save Labels</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </div>

    </main>
</div>

<footer class="app-footer">
    <div class="app-footer-container">
        <div class="app-footer-top">
            <div class="app-footer-brand">
                <a href="dashboard.html" class="app-footer-brand-logo">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="white"/>
                        <path d="M32 4 L38 10 L32 10 Z" fill="rgba(0,0,0,0.15)"/>
                        <path d="M32 4 L32 10 L38 10" stroke="rgba(0,0,0,0.2)" stroke-width="1.5" stroke-linejoin="round"/>
                        <line x1="14" y1="14" x2="30" y2="14" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="19" x2="26" y2="19" stroke="rgba(0,0,0,0.12)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="24" x2="30" y2="24" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="29" x2="22" y2="29" stroke="rgba(0,0,0,0.1)" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="rgba(0,0,0,0.2)" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>SpendNote</span>
                </a>
                <p class="app-footer-brand-desc">Cash receipt management for modern teams.</p>
            </div>
            <div class="app-footer-right">
                <div class="app-footer-links-simple">
                    <a href="index.html#features">Features</a>
                    <a href="spendnote-pricing.html">Pricing</a>
                    <a href="spendnote-faq.html">FAQ</a>
                    <a href="spendnote-terms.html">Legal</a>
                </div>
                <div class="app-footer-brand-disclaimer">
                    <i class="fas fa-info-circle"></i>
                    <span>Cash handoff documentation only. Not a tax or accounting tool.</span>
                </div>
            </div>
        </div>
        <div class="app-footer-bottom">
            <div class="app-footer-copyright">2026 SpendNote. All rights reserved.</div>
        </div>
    </div>
</footer>

<script src="assets/js/transaction-detail-ui.js?v=3"></script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="assets/js/supabase-config.js?v=22"></script>
<script src="assets/js/auth-guard.js"></script>
<script src="assets/js/nav-loader.js?v=8"></script>
<script>loadNav();</script>
<script src="assets/js/main.js?v=21"></script>
<script src="assets/js/transaction-detail-data.js?v=header-20260201-03"></script>
</body>
</html>

