<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Manage your Cash Boxes in SpendNote.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
    <title>Cash Boxes - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css?v=4">
    <link rel="stylesheet" href="assets/css/app-layout.css?v=5">
    <style>
        /* ===== CASH BOX LIST PAGE SPECIFIC STYLES ===== */
        
        /* Cash Boxes GRID */
        .registers-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .register-card {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 14px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.2s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }

        .register-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .register-card.active {
            border: 2px solid var(--card-color, var(--active));
            background: linear-gradient(135deg, #ffffff 0%, rgba(var(--card-rgb, var(--active-rgb)), 0.04) 100%);
            box-shadow: 0 4px 16px rgba(var(--card-rgb, var(--active-rgb)), 0.2);
        }

        .register-card.active:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(var(--card-rgb, var(--active-rgb)), 0.25);
        }

        .register-card.active::before { opacity: 0.06; }

        .register-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 8px;
        }

        .register-icon {
            width: 72px !important;
            height: 72px !important;
            border-radius: 18px !important;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px !important;
            flex-shrink: 0;
            border-width: 2px;
        }

        .register-icon.green {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.15), rgba(5, 150, 105, 0.08));
            color: var(--primary);
            border: 2px solid rgba(5, 150, 105, 0.2);
        }

        .register-icon.orange {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.08));
            color: var(--orange);
            border: 2px solid rgba(245, 158, 11, 0.2);
        }

        .register-icon.blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.08));
            color: var(--blue);
            border: 2px solid rgba(59, 130, 246, 0.2);
        }

        .register-icon.purple {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(139, 92, 246, 0.08));
            color: #8b5cf6;
            border: 2px solid rgba(139, 92, 246, 0.2);
        }

        .register-icon.red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.08));
            color: var(--error);
            border: 2px solid rgba(239, 68, 68, 0.2);
        }

        .register-info {
            flex: 1;
        }

        .register-name {
            font-size: 16px;
            font-weight: 800;
            letter-spacing: -0.01em;
            margin-bottom: 4px;
            position: relative;
            padding-left: 16px;
            color: var(--text);
        }

        .register-name::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.08);
        }

        .register-card.green .register-name::before { background: #059669; box-shadow: 0 0 0 2px rgba(5, 150, 105, 0.14); }
        .register-card.orange .register-name::before { background: #f59e0b; box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.14); }
        .register-card.blue .register-name::before { background: #3b82f6; box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.14); }
        .register-card.purple .register-name::before { background: #8b5cf6; box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.14); }
        .register-card.red .register-name::before { background: #ef4444; box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.14); }

        .register-id {
            font-size: 11px;
            color: var(--text-muted);
            font-family: monospace;
            font-weight: 600;
            background: var(--surface-elevated);
            padding: 3px 6px;
            border-radius: 5px;
            display: inline-block;
        }

        .register-balance {
            font-size: 32px;
            font-weight: 900;
            color: var(--text);
            margin-bottom: 0;
            letter-spacing: -0.04em;
            text-align: right;
        }


        .register-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: auto;
        }

        .action-btn {
            padding: 14px 20px;
            border-radius: 12px;
            border: 2px solid var(--border);
            background: var(--surface);
            color: var(--text);
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .action-btn.primary {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .action-btn.primary:hover {
            background: #047857;
            border-color: #047857;
            color: white;
        }

        /* ADD CASH BOX CARD - UNIFIED DESIGN */
        .add-cash-box-card {
            background: var(--surface);
            border: 2px dashed var(--border);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            min-height: 180px;
        }

        .add-cash-box-card:hover {
            border-color: var(--primary);
            background: rgba(5, 150, 105, 0.02);
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(5, 150, 105, 0.12);
        }

        .add-cash-box-card.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .add-cash-box-card.disabled:hover {
            border-color: var(--border);
            background: var(--surface);
            transform: none;
            box-shadow: 0 4px 20px var(--shadow);
        }

        .add-cash-box-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: rgba(5, 150, 105, 0.1);
            border: 2px solid rgba(5, 150, 105, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .add-cash-box-title {
            font-size: 16px;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 6px;
        }

        .add-cash-box-subtitle {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-muted);
            margin-bottom: 0;
        }

        .add-cash-box-upgrade {
            margin-top: 12px;
            padding: 10px 18px;
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 10px;
            color: #f59e0b;
            font-size: 13px;
            font-weight: 700;
            display: none;
        }

        .add-cash-box-card.disabled .add-cash-box-upgrade {
            display: block;
        }

        .add-cash-box-card.disabled .add-cash-box-subtitle {
            display: none;
        }

        /* DELETE MODAL */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: var(--surface);
            border-radius: 24px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 20px;
        }

        .modal-icon {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid rgba(239, 68, 68, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--error);
            flex-shrink: 0;
        }

        .modal-header-text {
            flex: 1;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 800;
            letter-spacing: -0.01em;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .modal-body {
            margin-bottom: 24px;
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.05);
            border: 2px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .warning-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--error);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-list {
            font-size: 14px;
            color: var(--text);
            line-height: 1.8;
            padding-left: 20px;
        }

        .warning-list li {
            margin-bottom: 4px;
        }

        .confirm-text {
            font-size: 14px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .modal-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .modal-btn {
            padding: 14px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-family: inherit;
        }

        .modal-btn-cancel {
            background: var(--bg);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .modal-btn-cancel:hover {
            border-color: var(--text);
            transform: translateY(-1px);
        }

        .modal-btn-delete {
            background: var(--error);
            color: white;
        }

        .modal-btn-delete:hover {
            background: #dc2626;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        /* STICKY ADD TRANSACTION BUTTON */
        .sticky-add-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 8px 24px rgba(5, 150, 105, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
        }

        .sticky-add-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 32px rgba(5, 150, 105, 0.5);
        }

        .sticky-add-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        /* RESPONSIVE */
        @media (max-width: 1200px) {
            .registers-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 768px) {
            .registers-grid {
                grid-template-columns: 1fr;
            }

            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .modal {
                padding: 24px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" /></head>
<body>
<nav class="site-nav">
  <div class="nav-container">
            <a href="dashboard.html" class="logo">
                <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="url(#nav-logo-gradient)"/>
                    <path d="M32 4 L38 10 L32 10 Z" fill="#000000" opacity="0.25"/>
                    <path d="M32 4 L32 10 L38 10" stroke="#047857" stroke-width="1.5" stroke-linejoin="round"/>
                    <line x1="14" y1="14" x2="30" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="19" x2="26" y2="19" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.8"/>
                    <line x1="14" y1="24" x2="30" y2="24" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="29" x2="22" y2="29" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.7"/>
                    <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="#047857" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                        <linearGradient id="nav-logo-gradient" x1="24" y1="4" x2="24" y2="40" gradientUnits="userSpaceOnUse">
                            <stop offset="0%" stop-color="#059669"/>
                            <stop offset="100%" stop-color="#10b981"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span>SpendNote</span>
            </a>
            <ul class="nav-links">
                <li><a href="dashboard.html" class="nav-cash-item">Dashboard</a></li>
                <li><a href="spendnote-cash-box-list.html" class="nav-cash-item" id="navCashBoxes">Cash Boxes</a></li>
                <li><a href="spendnote-transaction-history.html" class="nav-cash-item" id="navTransactions">Transactions</a></li>
                <li><a href="spendnote-contact-list.html">Contacts</a></li>
                <li><button class="nav-new-transaction-btn" id="addTransactionBtn"><i class="fas fa-plus"></i> New Transaction</button></li>
                <li class="user-avatar-wrapper" id="userAvatarBtn">
                    <div class="user-avatar">
                        <img src="https://i.pravatar.cc/150?img=12" alt="User">
                    </div>
                    <span class="user-name">John</span>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-dropdown-menu">
                            <a href="spendnote-user-settings.html" class="user-dropdown-item">
                                <i class="fas fa-cog"></i>
                                Settings
                            </a>
                            <div class="user-dropdown-divider"></div>
                            <a href="index.html" class="user-dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
                                Log out
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!-- MAIN -->
    <div class="app-container">
        <main class="main-content">
            <!-- PAGE HEADER -->
            <div class="page-header">
                <div class="page-title-group">
                    <h1>Cash Boxes</h1>
                    <p class="page-subtitle">Manage and monitor all your Cash Boxes</p>
                </div>
            </div>

        <!-- Cash Boxes GRID -->
        <div class="registers-grid">
            <!-- Cash Box 1 - Main Office (Green) -->
            <div class="register-card" data-color="#059669" data-rgb="5, 150, 105" style="--card-color: #059669; --card-rgb: 5, 150, 105;">
                <div class="register-header">
                    <div class="register-icon green">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="register-info">
                        <div class="register-name">Main Office</div>
                        <div class="register-id">CR-001</div>
                    </div>
                </div>

                <div class="register-balance">$18,500</div>

                <div class="register-actions">
                    <button class="action-btn primary" onclick="window.location.href='spendnote-cash-box-detail.html?id=main&color=green'">
                        <i class="fas fa-eye"></i>
                        View
                    </button>
                    <button class="action-btn" onclick="window.location.href='spendnote-cash-box-settings.html?id=main'">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>

            <!-- Cash Box 2 - Event Fund (Orange) -->
            <div class="register-card" data-color="#f59e0b" data-rgb="245, 158, 11" style="--card-color: #f59e0b; --card-rgb: 245, 158, 11;">
                <div class="register-header">
                    <div class="register-icon orange">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="register-info">
                        <div class="register-name">Event Fund</div>
                        <div class="register-id">CR-002</div>
                    </div>
                </div>

                <div class="register-balance">$4,750</div>

                <div class="register-actions">
                    <button class="action-btn primary" onclick="window.location.href='spendnote-cash-box-detail.html?id=event&color=orange'">
                        <i class="fas fa-eye"></i>
                        View
                    </button>
                    <button class="action-btn" onclick="window.location.href='spendnote-cash-box-settings.html?id=event'">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>

            <!-- Cash Box 3 - Petty Cash (Blue) -->
            <div class="register-card" data-color="#3b82f6" data-rgb="59, 130, 246" style="--card-color: #3b82f6; --card-rgb: 59, 130, 246;">
                <div class="register-header">
                    <div class="register-icon blue">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="register-info">
                        <div class="register-name">Petty Cash</div>
                        <div class="register-id">CR-003</div>
                    </div>
                </div>

                <div class="register-balance">$2,000</div>

                <div class="register-actions">
                    <button class="action-btn primary" onclick="window.location.href='spendnote-cash-box-detail.html?id=petty&color=blue'">
                        <i class="fas fa-eye"></i>
                        View
                    </button>
                    <button class="action-btn" onclick="window.location.href='spendnote-cash-box-settings.html?id=petty'">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>

            <!-- Cash Box 4 - Marketing Budget (Purple) -->
            <div class="register-card" data-color="#8b5cf6" data-rgb="139, 92, 246" style="--card-color: #8b5cf6; --card-rgb: 139, 92, 246;">
                <div class="register-header">
                    <div class="register-icon purple">
                        <i class="fas fa-bullhorn"></i>
                    </div>
                    <div class="register-info">
                        <div class="register-name">Marketing Budget</div>
                        <div class="register-id">CR-004</div>
                    </div>
                </div>

                <div class="register-balance">$12,300</div>

                <div class="register-actions">
                    <button class="action-btn primary" onclick="window.location.href='spendnote-cash-box-detail.html?id=marketing&color=purple'">
                        <i class="fas fa-eye"></i>
                        View
                    </button>
                    <button class="action-btn" onclick="window.location.href='spendnote-cash-box-settings.html?id=marketing'">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>

            <!-- Cash Box 5 - Emergency Fund (Red) -->
            <div class="register-card" data-color="#ef4444" data-rgb="239, 68, 68" style="--card-color: #ef4444; --card-rgb: 239, 68, 68;">
                <div class="register-header">
                    <div class="register-icon red">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="register-info">
                        <div class="register-name">Emergency Fund</div>
                        <div class="register-id">CR-005</div>
                    </div>
                </div>

                <div class="register-balance">$8,900</div>

                <div class="register-actions">
                    <button class="action-btn primary" onclick="window.location.href='spendnote-cash-box-detail.html?id=emergency&color=red'">
                        <i class="fas fa-eye"></i>
                        View
                    </button>
                    <button class="action-btn" onclick="window.location.href='spendnote-cash-box-settings.html?id=emergency'">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>

            <!-- Add Cash Box Card - Unified Design -->
            <div class="add-cash-box-card" onclick="handleAddCashBox()" data-plan="pro" data-box-count="5">
                <div class="add-cash-box-icon">
                    <i class="fas fa-plus"></i>
                </div>
                <div class="add-cash-box-title">Add Cash Box</div>
                <div class="add-cash-box-subtitle">Keep your cash organized</div>
                <!-- Conditional upgrade message - only shown when limit reached -->
                <div class="add-cash-box-upgrade" data-upgrade-text="standard">Upgrade to Standard for more Cash Boxes</div>
                <div class="add-cash-box-upgrade" data-upgrade-text="pro">Upgrade to Pro for unlimited Cash Boxes</div>
            </div>
        </div>
        </main>
    </div>

    <!-- Modern 2-Row Footer -->
<footer class="app-footer">
    <div class="app-footer-container">
        <!-- Top Row -->
        <div class="app-footer-top">
            <!-- Brand Section with Disclaimer -->
            <div class="app-footer-brand">
                <a href="dashboard.html" class="app-footer-brand-logo">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Main body with subtle gray pattern -->
                        <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="white"/>
                        <!-- Folded corner - darker gray -->
                        <path d="M32 4 L38 10 L32 10 Z" fill="rgba(0,0,0,0.15)"/>
                        <!-- Folded corner outline -->
                        <path d="M32 4 L32 10 L38 10" stroke="rgba(0,0,0,0.2)" stroke-width="1.5" stroke-linejoin="round"/>
                        <!-- Receipt lines - light gray -->
                        <line x1="14" y1="14" x2="30" y2="14" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="19" x2="26" y2="19" stroke="rgba(0,0,0,0.12)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="24" x2="30" y2="24" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                        <line x1="14" y1="29" x2="22" y2="29" stroke="rgba(0,0,0,0.1)" stroke-width="2.5" stroke-linecap="round"/>
                        <!-- Bottom zigzag - gray -->
                        <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="rgba(0,0,0,0.2)" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>SpendNote</span>
                </a>
                <p class="app-footer-brand-desc">
                    Cash receipt management for modern teams. Simple, secure, transparent.
                </p>
            </div>
            
            <!-- Right: Links + Disclaimer -->
            <div class="app-footer-right">
                <div class="app-footer-links-simple">
                    <a href="index.html#features">Features</a>
                    <a href="spendnote-pricing.html">Pricing</a>
                    <a href="spendnote-faq.html">FAQ</a>
                    <a href="spendnote-terms.html">Legal</a>
                </div>
                
                <!-- Disclaimer on right side -->
                <div class="app-footer-brand-disclaimer">
                    <i class="fas fa-info-circle"></i>
                    <span>Cash handoff documentation only. Not a tax or accounting tool.</span>
                </div>
            </div>
        </div>
        
        <!-- Bottom Row -->
        <div class="app-footer-bottom">
            <div class="app-footer-copyright">
                2026 SpendNote. All rights reserved.
            </div>
        </div>
    </div>
</footer>








    <!-- DELETE CONFIRMATION MODAL -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="modal-header-text">
                    <div class="modal-title">Delete Cash Box?</div>
                    <div class="modal-subtitle" id="modalRegisterName">Main Office (CR-001)</div>
                </div>
            </div>

            <div class="modal-body">
                <div class="warning-box">
                    <div class="warning-title">
                        <i class="fas fa-exclamation-circle"></i>
                        Warning: This action cannot be undone
                    </div>
                    <ul class="warning-list">
                        <li><strong><span id="modalTxCount">127</span> transactions</strong> will be permanently deleted</li>
                        <li>All transaction receipts will be lost</li>
                        <li>Historical data cannot be recovered</li>
                        <li>Balance and statistics will be removed</li>
                    </ul>
                </div>

                <p class="confirm-text">
                    Are you absolutely sure you want to delete this Cash Box? 
                    Consider archiving instead of deleting to preserve historical data.
                </p>
            </div>

            <div class="modal-actions">
                <button class="modal-btn modal-btn-cancel" onclick="hideDeleteModal()">
                    Cancel
                </a>
                <button class="modal-btn modal-btn-delete" onclick="confirmDelete()">
                    <i class="fas fa-trash"></i>
                    Delete Permanently
                </a>
            </div>
        </div>
    </div>

    <!-- Sticky Add Transaction Button -->
    <button class="sticky-add-btn" onclick="window.location.href='spendnote-create-transaction.html'" aria-label="Add Transaction">
        <i class="fas fa-plus"></i>
    </a>

    <script>
        let currentRegisterToDelete = null;

        function showDeleteModal(name, id, txCount) {
            currentRegisterToDelete = { name, id, txCount };
            document.getElementById('modalRegisterName').textContent = `${name} (${id})`;
            document.getElementById('modalTxCount').textContent = txCount;
            document.getElementById('deleteModal').classList.add('show');
        }

        function hideDeleteModal() {
            document.getElementById('deleteModal').classList.remove('show');
            currentRegisterToDelete = null;
        }

        function confirmDelete() {
            if (currentRegisterToDelete) {
                alert(`Cash Box "${currentRegisterToDelete.name}" deleted!\n\n${currentRegisterToDelete.txCount} transactions permanently removed.\n\nIn production:\n- Delete from database\n- Remove all transactions\n- Update stats\n- Redirect to Cash Boxes list`);
                hideDeleteModal();
                // In production: actually delete and refresh page
            }
        }

        // Close modal on overlay click
        document.getElementById('deleteModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideDeleteModal();
            }
        });

        // Close modal on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideDeleteModal();
            }
        });

        // Handle Add Cash Box card click with conditional logic
        function handleAddCashBox() {
            const card = document.querySelector('.add-cash-box-card');
            const plan = card.getAttribute('data-plan'); // 'free', 'standard', 'pro'
            const boxCount = parseInt(card.getAttribute('data-box-count'));
            
            // Plan limits: Free = 1, Standard = 2, Pro = unlimited
            const planLimits = {
                'free': 1,
                'standard': 2,
                'pro': Infinity
            };
            
            const limit = planLimits[plan] || 1;
            
            if (boxCount >= limit) {
                // User reached limit - show upgrade message
                if (plan === 'free') {
                    alert('You have reached the Free plan limit (1 Cash Box).\n\nUpgrade to Standard to create up to 2 Cash Boxes.');
                } else if (plan === 'standard') {
                    alert('You have reached the Standard plan limit (2 Cash Boxes).\n\nUpgrade to Pro for unlimited Cash Boxes.');
                }
            } else {
                // User can still add more - open create flow
                window.location.href = 'spendnote-cash-box-settings.html';
            }
        }

        // Initialize Add Cash Box card state on page load
        document.addEventListener('DOMContentLoaded', function() {
            const card = document.querySelector('.add-cash-box-card');
            const plan = card.getAttribute('data-plan');
            const boxCount = parseInt(card.getAttribute('data-box-count'));
            
            const planLimits = {
                'free': 1,
                'standard': 2,
                'pro': Infinity
            };
            
            const limit = planLimits[plan] || 1;
            const upgradeMessages = card.querySelectorAll('.add-cash-box-upgrade');
            
            if (boxCount >= limit) {
                // Disable card and show appropriate upgrade message
                card.classList.add('disabled');
                
                upgradeMessages.forEach(msg => {
                    const upgradeType = msg.getAttribute('data-upgrade-text');
                    if ((plan === 'free' && upgradeType === 'standard') ||
                        (plan === 'standard' && upgradeType === 'pro')) {
                        msg.style.display = 'block';
                    } else {
                        msg.style.display = 'none';
                    }
                });
            } else {
                // Card is clickable, hide all upgrade messages
                card.classList.remove('disabled');
                upgradeMessages.forEach(msg => msg.style.display = 'none');
            }

            // ========================================
            // CASH BOX COLOR SELECTION & MENU SYNC
            // ========================================
            
            // Update menu item colors based on selected cash box
            function updateMenuColors(color) {
                // Update all nav-cash-item links (Dashboard, Cash Boxes, Transactions)
                const navCashItems = document.querySelectorAll('.nav-cash-item');
                navCashItems.forEach(item => {
                    item.style.color = color;
                });
                
                // Update other menu items (Contacts) - not buttons
                const otherNavItems = document.querySelectorAll('.nav-links a:not(.nav-cash-item):not(.btn):not(.nav-new-transaction-btn)');
                otherNavItems.forEach(item => {
                    item.style.color = color;
                });
                
                // Update New Transaction button background color
                const newTransactionBtn = document.querySelector('.nav-new-transaction-btn');
                if (newTransactionBtn) {
                    newTransactionBtn.style.background = color;
                    newTransactionBtn.style.borderColor = color;
                }
            }

            // Initialize cash box cards with click handlers
            const cashBoxCards = document.querySelectorAll('.register-card:not(.add-cash-box-card)');
            
            cashBoxCards.forEach(card => {
                // Get color from data attributes
                const color = card.dataset.color;
                const rgb = card.dataset.rgb;
                
                // Click to select cash box
                card.addEventListener('click', (e) => {
                    // Don't trigger if clicking action buttons
                    if (e.target.closest('.action-btn')) {
                        return;
                    }
                    
                    // Update active state
                    cashBoxCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    
                    // Update global CSS variables
                    document.documentElement.style.setProperty('--active', color);
                    document.documentElement.style.setProperty('--active-rgb', rgb);
                    
                    // Save to localStorage
                    localStorage.setItem('activeCashBoxColor', color);
                    localStorage.setItem('activeCashBoxRgb', rgb);
                    
                    // Update menu colors
                    updateMenuColors(color);
                });
            });

            // Load saved active cash box from localStorage on page load
            const savedColor = localStorage.getItem('activeCashBoxColor');
            const savedRgb = localStorage.getItem('activeCashBoxRgb');
            
            if (savedColor && savedRgb) {
                // Apply saved colors
                document.documentElement.style.setProperty('--active', savedColor);
                document.documentElement.style.setProperty('--active-rgb', savedRgb);
                updateMenuColors(savedColor);
            }
        });
    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>
