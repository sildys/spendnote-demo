<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <meta name="description" content="Manage your account settings in SpendNote.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
    <title>Account Settings - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css?v=23">
    <link rel="stylesheet" href="assets/css/app-layout.css?v=21">
    <link rel="stylesheet" href="assets/css/user-settings.css?v=20260225-2142">
</head>
<body>
<div id="nav-container"></div>

<div class="app-container">
    <main class="main-content">
        <div class="page-header">
            <div class="page-title-group">
                <h1 class="page-title">Account Settings</h1>
                <p class="page-subtitle">Manage your profile, receipts, and subscription.</p>
            </div>
        </div>

        <div class="settings-layout">
            <!-- LEFT COLUMN -->
            <div>
                <!-- PROFILE -->
                <div class="settings-card">
                    <div class="settings-card-header">
                        <div>
                            <div class="settings-card-title">Profile</div>
                            <div class="settings-card-subtitle">Your personal information and avatar</div>
                        </div>
                    </div>
                    <div class="profile-avatar-section">
                        <div class="avatar-preview-circle" id="avatarPreview">
                            <span id="avatarInitials">—</span>
                            <img id="avatarImg" alt="Avatar" draggable="false">
                        </div>
                        <div class="avatar-controls">
                            <div class="avatar-color-row">
                                <label style="font-size: 13px; font-weight: 600; color: var(--text); margin-bottom: 8px; display: block;">Monogram Color</label>
                                <div class="avatar-color-swatches" id="avatarColorSwatches">
                                    <button type="button" class="avatar-color-swatch" data-color="#3a9b7a" style="background:#3a9b7a;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#3b8f8a" style="background:#3b8f8a;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#4a84b6" style="background:#4a84b6;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#4f73c9" style="background:#4f73c9;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#6a6fe0" style="background:#6a6fe0;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#8b6edb" style="background:#8b6edb;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#c96aa6" style="background:#c96aa6;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#cf6b6b" style="background:#cf6b6b;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#d08a56" style="background:#d08a56;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#c8a14a" style="background:#c8a14a;"></button>
                                    <button type="button" class="avatar-color-swatch" data-color="#64748b" style="background:#64748b;"></button>
                                </div>
                            </div>
                            <div class="avatar-upload-row">
                                <input type="file" id="avatarFileInput" accept="image/*" style="display:none;">
                                <button type="button" class="btn btn-secondary btn-small" id="avatarUploadBtn"><i class="fas fa-upload"></i> Upload Photo</button>
                                <button type="button" class="btn btn-secondary btn-small" id="avatarRemoveBtn"><i class="fas fa-trash"></i> Remove</button>
                            </div>
                            <div class="avatar-edit-row">
                                <button type="button" class="avatar-edit-btn" id="avatarZoomOut" title="Smaller"><i class="fas fa-minus"></i></button>
                                <span class="avatar-edit-pct" id="avatarEditorInfo">100%</span>
                                <button type="button" class="avatar-edit-btn" id="avatarZoomIn" title="Bigger"><i class="fas fa-plus"></i></button>
                                <span class="avatar-edit-hint">Drag photo to position</span>
                            </div>
                        </div>
                    </div>
                    <form id="profileForm">
                        <div class="form-grid">
                            <div class="form-group span-2">
                                <label for="profileFullName">Full Name</label>
                                <input type="text" id="profileFullName" required placeholder="Your full name">
                            </div>
                            <div class="form-group">
                                <label for="profileEmail">Email</label>
                                <input type="email" id="profileEmail" disabled>
                            </div>
                            <div class="form-group">
                                <label for="profileRole">User role</label>
                                <div class="role-display">
                                    <div id="profileRole" class="role-badge member">—</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="profileResetBtn">Reset</button>
                            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        </div>
                    </form>
                </div>

                <!-- SECURITY -->
                <div class="settings-card">
                    <div class="settings-card-header">
                        <div>
                            <div class="settings-card-title">Security</div>
                            <div class="settings-card-subtitle">Update your password</div>
                        </div>
                    </div>
                    <form id="passwordForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="newPassword">New Password</label>
                                <input type="password" id="newPassword" autocomplete="new-password" placeholder="Min. 8 chars, uppercase, number, symbol">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm Password</label>
                                <input type="password" id="confirmPassword" autocomplete="new-password" placeholder="Repeat password">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary"><i class="fas fa-key"></i> Update Password</button>
                        </div>
                    </form>
                </div>

                <!-- DELETE ACCOUNT (collapsible) -->
                <div class="settings-card danger-card collapsible-card">
                    <div class="collapsible-header" id="deleteAccountToggle">
                        <div class="collapsible-header-left">
                            <i class="fas fa-trash-alt" style="color:#dc2626;"></i>
                            <div>
                                <div class="settings-card-title">Delete Account</div>
                                <div class="settings-card-subtitle">Permanently delete your account and all data</div>
                            </div>
                        </div>
                        <i class="fas fa-chevron-down collapsible-icon"></i>
                    </div>
                    <div class="collapsible-content" id="deleteAccountContent">
                        <div class="danger-warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div class="danger-warning-text">
                                <strong>Warning: This action cannot be undone</strong>
                                <ul>
                                    <li>All Cash Boxes will be permanently deleted</li>
                                    <li>All transactions and receipts will be lost</li>
                                    <li>Your subscription will be cancelled immediately</li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-grid">
                            <div class="form-group span-2">
                                <label for="deleteConfirmInput">Type "DELETE" to confirm</label>
                                <input type="text" id="deleteConfirmInput" placeholder="DELETE">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="deleteAccountBtn" style="color:#dc2626;border-color:rgba(239,68,68,0.3);"><i class="fas fa-trash"></i> Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT COLUMN -->
            <div>
                <!-- RECEIPT IDENTITY -->
                <div class="settings-card" id="receiptIdentityCard">
                    <div class="settings-card-header">
                        <div>
                            <div class="settings-card-title">Receipt Identity</div>
                            <div class="settings-card-subtitle">Information displayed on your receipts</div>
                            <div class="settings-card-subtitle" id="receiptIdentityReadOnlyNote" style="display:none;color:var(--text-muted);margin-top:4px;">Read-only for User role.</div>
                        </div>
                    </div>
                    <div class="logo-compact">
                        <div class="logo-compact-label">Receipt Logo</div>
                        <div class="logo-compact-row">
                            <div class="logo-compact-preview" id="logoEditorCanvas">
                                <div class="logo-compact-placeholder" id="logoEditorPlaceholder"><i class="fas fa-image"></i></div>
                                <img class="logo-compact-img" id="logoEditorImage" alt="Logo" draggable="false">
                            </div>
                            <div class="logo-compact-controls">
                                <div class="logo-compact-zoom">
                                    <button type="button" class="logo-compact-btn" id="logoZoomOut" title="Smaller"><i class="fas fa-minus"></i></button>
                                    <span class="logo-compact-pct" id="logoEditorInfo">100%</span>
                                    <button type="button" class="logo-compact-btn" id="logoZoomIn" title="Bigger"><i class="fas fa-plus"></i></button>
                                </div>
                                <div class="logo-compact-actions">
                                    <input type="file" id="logoFileInput" accept="image/*" style="display:none;">
                                    <button type="button" class="btn btn-secondary btn-small" id="logoUploadBtn"><i class="fas fa-upload"></i> Upload</button>
                                    <button type="button" class="btn btn-secondary btn-small" id="logoRemoveBtn"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                                <div class="logo-compact-hint">1200×600px PNG/JPG</div>
                            </div>
                        </div>
                    </div>
                    <form id="receiptForm">
                        <div class="form-grid">
                            <div class="form-group span-2">
                                <label for="receiptDisplayName">Display Name</label>
                                <input type="text" id="receiptDisplayName" placeholder="Name shown on receipts (e.g. your business name)">
                            </div>
                            <div class="form-group span-2">
                                <label for="receiptOtherId">Other ID</label>
                                <input type="text" id="receiptOtherId" placeholder="Optional">
                            </div>
                            <div class="form-group span-2">
                                <label for="receiptAddress">Address</label>
                                <textarea id="receiptAddress" rows="2" placeholder="Street, City, State, ZIP"></textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="receiptResetBtn">Reset</button>
                            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                        </div>
                    </form>
                </div>

                <!-- SUBSCRIPTION & BILLING -->
                <div class="settings-card" id="billingSettingsCard">
                    <div class="settings-card-header">
                        <div>
                            <div class="settings-card-title">Subscription & Billing</div>
                            <div class="settings-card-subtitle">Manage your plan and payment details</div>
                        </div>
                    </div>
                    <div class="billing-info">
                        <div class="billing-info-left">
                            <i class="fas fa-calendar-check"></i>
                            <div class="billing-info-text">
                                <span>You're on <strong id="currentPlanName">—</strong></span>
                                <div id="nextBillingInfo" style="font-size:12px;color:var(--text-muted);margin-top:2px;"></div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <button type="button" class="btn btn-secondary" id="manageBillingBtn"><i class="fas fa-credit-card"></i> Manage Billing & Invoices</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Footer -->
<footer class="app-footer">
    <div class="app-footer-container">
        <div class="app-footer-top">
            <div class="app-footer-brand">
                <a href="dashboard.html" class="app-footer-brand-logo">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none"><path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="white"/><path d="M32 4 L38 10 L32 10 Z" fill="rgba(0,0,0,0.15)"/></svg>
                    <span>SpendNote</span>
                </a>
                <p class="app-footer-brand-desc">Cash receipt management for modern teams.</p>
            </div>
            <div class="app-footer-right">
                <div class="app-footer-links-simple">
                    <a href="index.html#features">Features</a>
                    <a href="spendnote-pricing.html">Pricing</a>
                    <a href="spendnote-faq.html">FAQ</a>
                    <a href="spendnote-terms.html">Legal</a>
                </div>
                <div class="app-footer-brand-disclaimer"><i class="fas fa-info-circle"></i><span>Cash handoff documentation only. Not a tax or accounting tool.</span></div>
            </div>
        </div>
        <div class="app-footer-bottom"><div class="app-footer-copyright">2026 SpendNote. All rights reserved.</div></div>
    </div>
</footer>

<script src="assets/js/modal-dialogs.js?v=20260208-1900"></script>
<script src="assets/js/logo-editor.js?v=20260225-2142"></script>
<script src="assets/js/user-settings.js?v=20260225-1420"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="assets/js/supabase-config.js?v=20260225-1350"></script>
<script src="assets/js/auth-guard.js?v=20260223-1949"></script>
<script src="assets/js/nav-loader.js?v=20260223-2101"></script>
<script>loadNav();</script>
<script src="assets/js/main.js?v=33"></script>
</body>
</html>
