<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Receipt details in SpendNote.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
    <title>Receipt TRX-342 - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css?v=4">
    <link rel="stylesheet" href="assets/css/app-layout.css?v=5">
    <style>
        /* ===== RECEIPT DETAIL PAGE SPECIFIC STYLES ===== */
        
        /* TEMPORARY - to be removed (nav + footer) */
/* NAV */
        .site-nav {
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }


        .site-nav .logo {
            display: flex;
            align-items: center;
            gap: 0;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .site-nav .logo:hover {
            transform: scale(1.05);
        }

        .site-nav .logo img {
            height: 36px;
            width: auto;
        }

        .site-nav .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
        }

        .site-nav .nav-links a {
            color: #000000;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .site-nav .nav-links a:hover {
            color: var(--active);
        }

        .site-nav .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            font-size: 0.95rem;
            border: none;
            cursor: pointer;
        }

        .site-nav .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 4px 14px rgba(5, 150, 105, 0.3);
        }

        .site-nav .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(5, 150, 105, 0.4);
        }

        .site-nav .btn-secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .site-nav .btn-secondary:hover {
            background: rgba(5, 150, 105, 0.05);
            border-color: var(--primary);
        }

        .site-nav .btn-large {
            padding: 1rem 2rem;
            font-size: 1.05rem;
        }

        
/* FOOTER */
        footer {
            background: var(--surface);
            padding: 3rem 2rem 2rem;
            border-top: 1px solid var(--border);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .footer-brand h3 {
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            margin-bottom: 0.75rem;
        }

        .footer-brand p {
            color: #000000;
            line-height: 1.6;
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
        }

        .newsletter-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .newsletter-form input {
            flex: 1;
            padding: 0.65rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: inherit;
        }

        .newsletter-form button {
            padding: 0.65rem 1.25rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .newsletter-form button:hover {
            transform: translateY(-2px);
        }

        .footer-links h4 {
            margin-bottom: 1rem;
            font-weight: 800;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links a {
            color: #000000;
            text-decoration: none;
            display: block;
            padding: 0.4rem 0;
            transition: color 0.2s;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .footer-bottom {
            max-width: 1400px;
            margin: 0 auto;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #000000;
            font-size: 0.85rem;
        }

        .footer-social {
            display: flex;
            gap: 0.75rem;
        }

        .footer-social a {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(5, 150, 105, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            transition: all 0.2s;
        }

        .footer-social a:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        

        .site-nav .nav-links a.active {
            color: var(--active);
        }

        .site-nav .nav-links a{
            position: relative;
        }
        .site-nav .nav-links a.active::after{
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: -10px;
            height: 3px;
            border-radius: 999px;
            background: var(--active);
            opacity: 0.9;
        }

/* ===== End imported - TODO: Remove all above duplic CSS ===== */

        /* PAGE SPECIFIC STYLES */

        .main-content { 
            display: flex;
            flex-direction: column;
            gap: 20px; 
        }

        .page-title {
            font-size: 28px !important;
            font-weight: 800 !important;
            letter-spacing: -0.02em !important;
            margin-bottom: 6px !important;
        }

        .receipt-shell {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* HEADER */
        .page-header {
            margin-bottom: 32px;
        }

        .breadcrumb {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 16px;
            font-weight: 500;
        }

        .breadcrumb a {
            color: var(--active);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--active);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(var(--active-rgb), 0.3);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--text);
            transform: translateY(-1px);
        }

        /* LAYOUT */
        .receipts-layout {
            display: grid;
            grid-template-columns: 1fr 600px;
            gap: 24px;
        }
        
        @media (max-width: 1400px) {
            .receipts-layout {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .receipt-preview-panel {
                position: relative;
                top: 0;
                order: -1;
            }
        }
        
        .receipts-settings {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* RECEIPT PREVIEW */
        .receipt-preview-wrapper {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 32px;
            box-shadow: 0 2px 12px var(--shadow);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
        }

        .preview-title {
            font-size: 18px;
            font-weight: 800;
            letter-spacing: -0.01em;
        }

        .zoom-controls {
            display: flex;
            gap: 8px;
        }

        .zoom-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            border: 2px solid var(--border);
            background: var(--surface);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: var(--text-muted);
            font-size: 14px;
        }

        .zoom-btn:hover {
            border-color: var(--active);
            color: var(--active);
        }

        .zoom-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .preview-container {
            transition: transform 0.3s ease;
            transform-origin: top center;
        }

        /* RECEIPT (A4 paper) */
        .receipt-paper {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 48px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            max-width: 800px;
            margin: 0 auto;
        }

        /* Template variations */
        .preview-container[data-template="compact"] .receipt-paper {
            padding: 32px;
        }

        .preview-container[data-template="minimal"] .receipt-paper {
            padding: 24px;
            box-shadow: none;
            border: none;
        }

        .preview-container[data-template="compact"] .receipt-header {
            margin-bottom: 24px;
            padding-bottom: 16px;
        }

        .preview-container[data-template="minimal"] .receipt-header {
            margin-bottom: 16px;
            padding-bottom: 12px;
        }

        /* Visibility toggles */
        .preview-container[data-show-logo="0"] .company-logo {
            display: none;
        }

        .preview-container[data-show-company="0"] .company-info {
            display: none;
        }

        .preview-container[data-show-address="0"] .receipt-address {
            display: none;
        }

        .preview-container[data-show-partner="0"] .partner-details {
            display: none;
        }

        .preview-container[data-show-transaction-id="0"] .transaction-id-display {
            display: none;
        }

        .preview-container[data-show-note="0"] .receipt-note {
            display: none;
        }

        .preview-container[data-show-created-by="0"] .created-by-info {
            display: none;
        }

        .preview-container[data-show-signatures="0"] .signature-section {
            display: none;
        }

        .preview-container[data-show-datetime="0"] .datetime-info {
            display: none;
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 24px;
            border-bottom: 2px solid #e5e5e5;
        }

        .company-logo {
            width: 120px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 8px;
            margin: 0 auto 16px;
        }

        .company-name {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .company-info {
            font-size: 13px;
            color: #737373;
            line-height: 1.8;
        }

        .receipt-address {
            font-size: 12px;
            color: #737373;
            margin-top: 4px;
        }

        .receipt-title-section {
            text-align: center;
            margin-bottom: 32px;
        }

        .receipt-title {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .transaction-id-display {
            font-size: 14px;
            color: #737373;
            font-family: 'Courier New', monospace;
        }

        .receipt-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
        }

        .info-group h4 {
            font-size: 11px;
            color: #737373;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .info-group p {
            font-size: 14px;
            line-height: 1.6;
            margin: 0;
        }

        .receipt-table {
            width: 100%;
            margin-bottom: 32px;
        }

        .receipt-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .receipt-table thead {
            background: #fafafa;
            border-top: 2px solid #e5e5e5;
            border-bottom: 2px solid #e5e5e5;
        }

        .receipt-table th {
            text-align: left;
            padding: 12px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #737373;
        }

        .receipt-table th:last-child {
            text-align: right;
        }

        .receipt-table td {
            padding: 12px;
            font-size: 14px;
            border-bottom: 1px solid #f5f5f5;
        }

        .receipt-table td:last-child {
            text-align: right;
            font-weight: 600;
        }

        .receipt-table tbody tr:last-child td {
            border-bottom: 2px solid #e5e5e5;
        }

        .items-overflow {
            display: none;
            font-size: 13px;
            color: #737373;
            font-style: italic;
            text-align: center;
            padding: 8px;
        }

        .receipt-total {
            text-align: right;
            margin-bottom: 32px;
        }

        .receipt-total-row {
            display: flex;
            justify-content: flex-end;
            gap: 40px;
            padding: 12px 0;
            font-size: 16px;
        }

        .receipt-total-row.final {
            border-top: 2px solid #e5e5e5;
            padding-top: 16px;
            margin-top: 8px;
        }

        .receipt-total-row.final .total-value {
            font-size: 24px;
            font-weight: 900;
            color: var(--primary);
        }

        .receipt-note {
            background: #fafafa;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 32px;
        }

        .receipt-note h4 {
            font-size: 12px;
            color: #737373;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .receipt-note p {
            font-size: 13px;
            line-height: 1.6;
            margin: 0;
        }

        .created-by-info {
            text-align: center;
            font-size: 13px;
            color: #737373;
            margin-bottom: 24px;
        }

        .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 40px;
            padding-top: 24px;
            border-top: 2px solid #e5e5e5;
        }

        .signature-box {
            text-align: center;
        }

        .signature-line {
            border-top: 2px solid #000;
            margin-bottom: 8px;
            padding-top: 60px;
        }

        .signature-label {
            font-size: 12px;
            color: #737373;
            font-weight: 600;
        }

        .receipt-footer {
            text-align: center;
            padding-top: 24px;
            border-top: 2px solid #e5e5e5;
            font-size: 12px;
            color: #737373;
            line-height: 1.8;
        }

        /* FORM ELEMENTS */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 6px;
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .form-input {
            width: 100%;
            padding: 10px 14px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            color: var(--text);
            background: var(--surface);
            transition: all 0.2s;
        }

        .form-input:focus {
            border-color: var(--active);
            outline: none;
            box-shadow: 0 0 0 3px rgba(var(--active-rgb), 0.1);
        }

        textarea.form-input {
            resize: vertical;
            min-height: 80px;
        }

        .upgrade-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: linear-gradient(135deg, #f59e0b, #f97316);
            color: white;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: 8px;
        }

        .btn-outline {
            padding: 10px 16px;
            border: 2px solid var(--border);
            background: transparent;
            color: var(--text);
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn-outline:hover {
            border-color: var(--error);
            color: var(--error);
        }

        /* FORMAT CARDS */
        .format-cards {
            display: flex;
            flex-direction: row;
            gap: 8px;
        }

        .format-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 10px 12px;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
            text-align: center;
        }

        .format-card:hover {
            border-color: var(--active);
            background: rgba(var(--active-rgb), 0.02);
        }

        .format-card.active {
            border-color: var(--active);
            background: rgba(var(--active-rgb), 0.05);
            box-shadow: 0 2px 8px rgba(var(--active-rgb), 0.15);
        }

        .format-icon {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: rgba(var(--active-rgb), 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: var(--active);
            flex-shrink: 0;
        }

        .format-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .format-name {
            font-size: 12px;
            font-weight: 700;
            color: var(--text);
            line-height: 1.2;
        }

        .format-desc {
            font-size: 10px;
            color: var(--text-muted);
            line-height: 1.2;
            display: none;
        }

        /* RECEIPT TOGGLES */
        .receipt-toggles {
            display: flex;
            flex-direction: column;
            background: var(--surface-elevated);
            border-radius: 14px;
            overflow: hidden;
        }

        .receipt-toggle-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border);
        }

        .receipt-toggle-item:last-child {
            border-bottom: none;
        }

        .toggle-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .toggle-switch {
            position: relative;
            width: 48px;
            height: 28px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            border-radius: 28px;
            transition: 0.3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--active);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        /* RECEIPT PREVIEW PANEL */
        .receipt-preview-panel {
            background: var(--surface-elevated);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            display: flex;
            flex-direction: column;
        }

        .preview-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preview-title i {
            color: var(--active);
        }

        .zoom-controls {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .zoom-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--border);
            background: var(--surface);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text);
            font-size: 14px;
        }

        .zoom-btn:hover {
            background: var(--surface-elevated);
            border-color: var(--primary);
            color: var(--primary);
        }

        .zoom-level {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 600;
            min-width: 45px;
            text-align: center;
        }

        .receipt-preview-container {
            flex: 1;
            overflow: auto;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: white;
            position: relative;
        }

        .receipt-preview-wrapper {
            width: 100%;
            display: block;
        }

        .receipt-preview-frame {
            width: 100%;
            height: 1400px;
            border: none;
            background: white;
            display: block;
            zoom: 0.7;
            transition: zoom 0.2s ease;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .setting-description {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* TEMPLATE DROPDOWN */
        .template-select {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.2s;
            background: var(--surface);
            cursor: pointer;
        }

        .template-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }

        /* TOGGLE SWITCH */
        .toggle {
            position: relative;
            width: 44px;
            height: 24px;
            flex-shrink: 0;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #d1d5db;
            border-radius: 24px;
            transition: 0.3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        .toggle input:checked + .toggle-slider {
            background: var(--primary);
        }

        .toggle input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        /* ACTIONS CARD */
        .actions-card {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .action-btn-full {
            width: 100%;
            justify-content: center;
        }

        /* FORMAT CARDS */
        .format-card {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .format-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(var(--active-rgb), 0.15);
        }

        .format-card.active {
            border-color: var(--primary);
            background: rgba(var(--active-rgb), 0.05);
            box-shadow: 0 4px 12px rgba(var(--active-rgb), 0.2);
        }

        /* IFRAME PREVIEW */
        .receipt-iframe {
            width: 100%;
            height: 800px;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: white;
        }

        /* PRINT STYLES - DUAL COPY */
        .cut-divider {
            display: none;
        }

        @media print {
            body {
                background: white;
            }

            .site-nav,
            .page-header,
            .settings-sidebar,
            .preview-header {
                display: none !important;
            }

            .content-layout {
                grid-template-columns: 1fr;
                max-width: 100%;
            }

            .receipt-preview-wrapper {
                box-shadow: none;
                border: none;
                padding: 0;
            }

            .preview-container {
                transform: none !important;
            }

            .receipt-paper {
                box-shadow: none;
                border: none;
                max-width: 100%;
                page-break-inside: avoid;
                margin-bottom: 0;
                padding-bottom: 24px;
            }

            .cut-divider {
                display: block;
                text-align: center;
                padding: 16px 0;
                border-top: 2px dashed #000;
                border-bottom: 2px dashed #000;
                margin: 16px 0;
                font-size: 11px;
                color: #999;
                letter-spacing: 0.2em;
                page-break-inside: avoid;
            }

            .items-overflow {
                display: block !important;
            }
        }

        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .content-layout {
                grid-template-columns: 1fr;
            }

            .settings-sidebar {
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .receipt-paper {
                padding: 32px 24px;
            }

            .receipt-info-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .header-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .header-actions {
                width: 100%;
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .signature-section {
                grid-template-columns: 1fr;
                gap: 32px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" /></head>
<body>
<nav class="site-nav">
  <div class="nav-container">
            <a href="dashboard.html" class="logo">
                <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="url(#nav-logo-gradient)"/>
                    <path d="M32 4 L38 10 L32 10 Z" fill="#000000" opacity="0.25"/>
                    <path d="M32 4 L32 10 L38 10" stroke="#047857" stroke-width="1.5" stroke-linejoin="round"/>
                    <line x1="14" y1="14" x2="30" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="19" x2="26" y2="19" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.8"/>
                    <line x1="14" y1="24" x2="30" y2="24" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="29" x2="22" y2="29" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.7"/>
                    <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="#047857" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                        <linearGradient id="nav-logo-gradient" x1="24" y1="4" x2="24" y2="40" gradientUnits="userSpaceOnUse">
                            <stop offset="0%" stop-color="#059669"/>
                            <stop offset="100%" stop-color="#10b981"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span>SpendNote</span>
            </a>
            <ul class="nav-links">
                <li><a href="dashboard.html" class="nav-cash-item">Dashboard</a></li>
                <li><a href="spendnote-cash-box-list.html" class="nav-cash-item" id="navCashBoxes">Cash Boxes</a></li>
                <li><a href="spendnote-transaction-history.html" class="nav-cash-item" id="navTransactions">Transactions</a></li>
                <li><a href="spendnote-contact-list.html">Contacts</a></li>
                <li><button class="nav-new-transaction-btn" id="addTransactionBtn"><i class="fas fa-plus"></i> New Transaction</button></li>
                <li class="user-avatar-wrapper" id="userAvatarBtn">
                    <div class="user-avatar">
                        <img src="https://i.pravatar.cc/150?img=12" alt="User">
                    </div>
                    <span class="user-name">John</span>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-dropdown-menu">
                            <a href="spendnote-user-settings.html" class="user-dropdown-item">
                                <i class="fas fa-cog"></i>
                                Settings
                            </a>
                            <div class="user-dropdown-divider"></div>
                            <a href="index.html" class="user-dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
                                Log out
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!-- MAIN -->
    <div class="app-container">
        <main class="main-content">
        <div class="receipt-shell">
        <!-- HEADER -->
        <div class="page-header">
            <div class="header-row">
                <h1 class="page-title">Receipt TRX-342</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="window.print()">
                        <i class="fas fa-print"></i>
                        Print
                    </button>
                    <button class="btn btn-secondary" onclick="alert('Download PDF\n\nIn production:\n- Generate PDF from receipt\n- Download file')">
                        <i class="fas fa-file-pdf"></i>
                        Download PDF
                    </button>
                    <button class="btn btn-primary" onclick="alert('Email Receipt\n\nIn production:\n- Open email dialog\n- Enter recipient email\n- Send receipt as PDF attachment')">
                        <i class="fas fa-envelope"></i>
                        Email Receipt
                    </button>
                </div>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="receipts-layout">
            <!-- LEFT: Settings -->
            <div class="receipts-settings">
                <!-- DEFAULT FORMAT -->
                <div class="form-group">
                    <label class="form-label">Receipt format</label>
                    <p class="form-hint" style="margin-bottom: 12px;">Select which format to preview</p>
                    <div class="format-cards">
                        <div class="format-card active" data-format="a4">
                            <div class="format-icon">
                                <i class="fas fa-copy"></i>
                            </div>
                            <div class="format-info">
                                <div class="format-name">Print (2 copies)</div>
                                <div class="format-desc">One for you, one for recipient</div>
                            </div>
                        </div>
                        <div class="format-card" data-format="pdf">
                            <div class="format-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="format-info">
                                <div class="format-name">PDF Receipt</div>
                                <div class="format-desc">Download as PDF file</div>
                            </div>
                        </div>
                        <div class="format-card" data-format="email">
                            <div class="format-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="format-info">
                                <div class="format-name">Email Receipt</div>
                                <div class="format-desc">Send to recipient</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FIELDS TO SHOW -->
                <div class="form-group">
                    <label class="form-label">Fields to show</label>
                    <p class="form-hint" style="margin-bottom: 12px;">Amount, Date, and Payer/Receiver names are always shown</p>
                    
                    <div class="receipt-toggles">
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Logo</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="logo">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Addresses</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="addresses">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Tracking Details</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="tracking">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Additional Info</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="additional">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Note</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="note">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="receipt-toggle-item">
                            <span class="toggle-label">Show Signatures</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked data-field="signatures">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- CUSTOMIZE RECEIPT TEXT (PRO) -->
                <div class="form-group">
                    <label class="form-label">
                        Customize Receipt Text
                        <span class="upgrade-badge">
                            <i class="fas fa-crown"></i> Pro
                        </span>
                    </label>
                    <p class="form-hint" style="margin-bottom: 16px;">Customize the text labels and messages on your receipts</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Receipt title</label>
                            <input type="text" class="form-input" id="receiptTitle" placeholder="Cash Receipt" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Total label</label>
                            <input type="text" class="form-input" id="totalLabel" placeholder="Total handed over" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">From label</label>
                            <input type="text" class="form-input" id="fromLabel" placeholder="FROM" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">To label</label>
                            <input type="text" class="form-input" id="toLabel" placeholder="TO" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Description label</label>
                            <input type="text" class="form-input" id="descriptionLabel" placeholder="Description" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Amount label</label>
                            <input type="text" class="form-input" id="amountLabel" placeholder="Amount" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Note label</label>
                            <input type="text" class="form-input" id="notesLabel" placeholder="Notes" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                        <div></div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Issued by label</label>
                            <input type="text" class="form-input" id="issuedByLabel" placeholder="Issued by" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                        <div>
                            <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Received by label</label>
                            <input type="text" class="form-input" id="receivedByLabel" placeholder="Received by" style="font-size: 13px; padding: 8px 12px;">
                        </div>
                    </div>
                    
                    <div>
                        <label class="form-label" style="font-size: 13px; margin-bottom: 6px;">Footer note</label>
                        <textarea class="form-input" id="footerNote" placeholder="e.g., Thank you for your business!" rows="2" style="font-size: 13px; padding: 8px 12px;"></textarea>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Preview -->
            <div class="receipt-preview-panel">
                <div class="preview-header">
                    <div class="preview-title">
                        <i class="fas fa-eye"></i>
                        Live Preview
                    </div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="zoom-level" id="zoomLevel">70%</span>
                        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>
                <!-- RECEIPT PREVIEW IFRAME -->
                <div class="receipt-preview-container">
                    <div class="receipt-preview-wrapper" id="receiptWrapper">
                        <iframe id="receiptFrame" class="receipt-preview-frame" src="spendnote-receipt-a4-two-copies.html"></iframe>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </main>
    </div>

    <script>
        // Track current display options
        let displayOptions = {
            logo: '1',
            addresses: '1',
            tracking: '1',
            additional: '1',
            note: '1',
            signatures: '1'
        };

        // Track current format
        let currentFormat = 'a4';

        // Build URL with parameters
        function buildReceiptUrl(format) {
            const baseUrls = {
                'a4': 'spendnote-receipt-a4-two-copies.html',
                'pdf': 'spendnote-pdf-receipt.html',
                'email': 'spendnote-email-receipt.html'
            };
            
            const params = new URLSearchParams();
            for (const [key, value] of Object.entries(displayOptions)) {
                params.append(key, value);
            }
            
            return `${baseUrls[format]}?${params.toString()}`;
        }

        // Reload iframe with current settings
        function reloadIframe() {
            const iframe = document.getElementById('receiptFrame');
            iframe.src = buildReceiptUrl(currentFormat);
        }

        // Format card selection
        document.querySelectorAll('.format-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove active class from all cards
                document.querySelectorAll('.format-card').forEach(c => {
                    c.classList.remove('active');
                });
                
                // Add active class to clicked card
                this.classList.add('active');
                
                // Update current format and reload preview
                currentFormat = this.dataset.format;
                reloadIframe();
            });
        });

        // Toggle switches for receipt fields
        document.querySelectorAll('.receipt-toggles input[type="checkbox"]').forEach(toggle => {
            toggle.addEventListener('change', function() {
                const field = this.dataset.field;
                if (field) {
                    // Update display options
                    displayOptions[field] = this.checked ? '1' : '0';
                    // Reload iframe with new settings
                    reloadIframe();
                }
            });
        });

        // Zoom functionality
        let currentZoom = 0.7;
        const zoomStep = 0.05;
        const minZoom = 0.5;
        const maxZoom = 1.2;

        function updateZoom() {
            const iframe = document.getElementById('receiptFrame');
            const zoomLevel = document.getElementById('zoomLevel');
            if (iframe && zoomLevel) {
                iframe.style.zoom = currentZoom;
                zoomLevel.textContent = Math.round(currentZoom * 100) + '%';
            }
        }

        function zoomIn() {
            if (currentZoom < maxZoom) {
                currentZoom = Math.min(currentZoom + zoomStep, maxZoom);
                updateZoom();
            }
        }

        function zoomOut() {
            if (currentZoom > minZoom) {
                currentZoom = Math.max(currentZoom - zoomStep, minZoom);
                updateZoom();
            }
        }

        function resetZoom() {
            currentZoom = 0.7;
            updateZoom();
        }

        // Initialize iframe on page load
        window.addEventListener('DOMContentLoaded', function() {
            reloadIframe();
            updateZoom();
        });
    </script>

    <footer class="app-footer">
        <div class="app-footer-container">
            <div class="app-footer-top">
                <div class="app-footer-brand">
                    <a href="dashboard.html" class="app-footer-brand-logo">
                        <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="white"/>
                            <path d="M32 4 L38 10 L32 10 Z" fill="rgba(0,0,0,0.15)"/>
                            <path d="M32 4 L32 10 L38 10" stroke="rgba(0,0,0,0.2)" stroke-width="1.5" stroke-linejoin="round"/>
                            <line x1="14" y1="14" x2="30" y2="14" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                            <line x1="14" y1="19" x2="26" y2="19" stroke="rgba(0,0,0,0.12)" stroke-width="2.5" stroke-linecap="round"/>
                            <line x1="14" y1="24" x2="30" y2="24" stroke="rgba(0,0,0,0.15)" stroke-width="2.5" stroke-linecap="round"/>
                            <line x1="14" y1="29" x2="22" y2="29" stroke="rgba(0,0,0,0.1)" stroke-width="2.5" stroke-linecap="round"/>
                            <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="rgba(0,0,0,0.2)" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>SpendNote</span>
                    </a>
                    <p class="app-footer-brand-desc">
                        Cash receipt management for modern teams. Simple, secure, transparent.
                    </p>
                </div>
                
                <!-- Right: Links + Disclaimer -->
                <div class="app-footer-right">
                    <div class="app-footer-links-simple">
                        <a href="index.html#features">Features</a>
                        <a href="spendnote-pricing.html">Pricing</a>
                        <a href="spendnote-faq.html">FAQ</a>
                        <a href="spendnote-terms.html">Legal</a>
                    </div>
                    
                    <!-- Disclaimer on right side -->
                    <div class="app-footer-brand-disclaimer">
                        <i class="fas fa-info-circle"></i>
                        <span>Cash handoff documentation only. Not a tax or accounting tool.</span>
                    </div>
                </div>
            </div>
            <div class="app-footer-bottom">
                <div class="app-footer-copyright">
                    2026 SpendNote. All rights reserved.
                </div>
            </div>
        </div>
    </footer>
    <script src="assets/js/main.js"></script>
</body>
</html>
