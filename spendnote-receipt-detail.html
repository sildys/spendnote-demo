<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Receipt details in SpendNote.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
    <title>Receipt TRX-342 - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #059669;
            --primary-light: #10b981;
            --primary-dark: #047857;
            --orange: #f59e0b;
            --blue: #3b82f6;
            --bg: #fafafa;
            --surface: #ffffff;
            --surface-elevated: #f5f5f5;
            --text: #0a0a0a;
            --text-muted: #737373;
            --border: rgba(0,0,0,0.08);
            --shadow: rgba(0,0,0,0.04);
            --error: #ef4444;
            --success: #059669;
            --active: #059669;
            --active-rgb: 5, 150, 105;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html { overflow-x: clip; }

        *:focus {
            outline: 3px solid var(--active);
            outline-offset: 2px;
        }
        
        body { 
            font-family: 'Inter', -apple-system, system-ui, sans-serif; 
            background: var(--bg);
            color: var(--text); 
            line-height: 1.6; 
            font-size: 15px;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: clip;
        }

/* ===== Imported from landing (nav + footer) ===== */
/* NAV */
        .site-nav {
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        .site-nav .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .site-nav .logo {
            display: flex;
            align-items: center;
            gap: 0;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .site-nav .logo:hover {
            transform: scale(1.05);
        }

        .site-nav .logo img {
            height: 36px;
            width: auto;
        }

        .site-nav .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
        }

        .site-nav .nav-links a {
            color: #000000;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .site-nav .nav-links a:hover {
            color: var(--active);
        }

        .site-nav .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            font-size: 0.95rem;
            border: none;
            cursor: pointer;
        }

        .site-nav .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 4px 14px rgba(5, 150, 105, 0.3);
        }

        .site-nav .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(5, 150, 105, 0.4);
        }

        .site-nav .btn-secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .site-nav .btn-secondary:hover {
            background: rgba(5, 150, 105, 0.05);
            border-color: var(--primary);
        }

        .site-nav .btn-large {
            padding: 1rem 2rem;
            font-size: 1.05rem;
        }

        
/* FOOTER */
        footer {
            background: var(--surface);
            padding: 3rem 2rem 2rem;
            border-top: 1px solid var(--border);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .footer-brand h3 {
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            margin-bottom: 0.75rem;
        }

        .footer-brand p {
            color: #000000;
            line-height: 1.6;
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
        }

        .newsletter-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .newsletter-form input {
            flex: 1;
            padding: 0.65rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: inherit;
        }

        .newsletter-form button {
            padding: 0.65rem 1.25rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .newsletter-form button:hover {
            transform: translateY(-2px);
        }

        .footer-links h4 {
            margin-bottom: 1rem;
            font-weight: 800;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links a {
            color: #000000;
            text-decoration: none;
            display: block;
            padding: 0.4rem 0;
            transition: color 0.2s;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .footer-bottom {
            max-width: 1400px;
            margin: 0 auto;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #000000;
            font-size: 0.85rem;
        }

        .footer-social {
            display: flex;
            gap: 0.75rem;
        }

        .footer-social a {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(5, 150, 105, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            transition: all 0.2s;
        }

        .footer-social a:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        

        .site-nav .nav-links a.active {
            color: var(--active);
        }

        .site-nav .nav-links a{
            position: relative;
        }
        .site-nav .nav-links a.active::after{
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: -10px;
            height: 3px;
            border-radius: 999px;
            background: var(--active);
            opacity: 0.9;
        }

/* ===== End imported ===== */

        /* MAIN */
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            flex: 1;
            padding: 28px 24px;
            width: 100%;
        }

        .main-content { 
            padding-top: 28px;
            display: flex;
            flex-direction: column;
            gap: 20px; 
        }

        .receipt-shell {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* HEADER */
        .page-header {
            margin-bottom: 32px;
        }

        .breadcrumb {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 16px;
            font-weight: 500;
        }

        .breadcrumb a {
            color: var(--active);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--active);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(var(--active-rgb), 0.3);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--text);
            transform: translateY(-1px);
        }

        /* LAYOUT */
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 32px;
        }

        /* RECEIPT PREVIEW */
        .receipt-preview-wrapper {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 32px;
            box-shadow: 0 2px 12px var(--shadow);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
        }

        .preview-title {
            font-size: 18px;
            font-weight: 800;
            letter-spacing: -0.01em;
        }

        .zoom-controls {
            display: flex;
            gap: 8px;
        }

        .zoom-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            border: 2px solid var(--border);
            background: var(--surface);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: var(--text-muted);
            font-size: 14px;
        }

        .zoom-btn:hover {
            border-color: var(--active);
            color: var(--active);
        }

        .zoom-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .preview-container {
            transition: transform 0.3s ease;
            transform-origin: top center;
        }

        /* RECEIPT (A4 paper) */
        .receipt-paper {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 48px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            max-width: 800px;
            margin: 0 auto;
        }

        /* Template variations */
        .preview-container[data-template="compact"] .receipt-paper {
            padding: 32px;
        }

        .preview-container[data-template="minimal"] .receipt-paper {
            padding: 24px;
            box-shadow: none;
            border: none;
        }

        .preview-container[data-template="compact"] .receipt-header {
            margin-bottom: 24px;
            padding-bottom: 16px;
        }

        .preview-container[data-template="minimal"] .receipt-header {
            margin-bottom: 16px;
            padding-bottom: 12px;
        }

        /* Visibility toggles */
        .preview-container[data-show-logo="0"] .company-logo {
            display: none;
        }

        .preview-container[data-show-company="0"] .company-info {
            display: none;
        }

        .preview-container[data-show-address="0"] .receipt-address {
            display: none;
        }

        .preview-container[data-show-partner="0"] .partner-details {
            display: none;
        }

        .preview-container[data-show-transaction-id="0"] .transaction-id-display {
            display: none;
        }

        .preview-container[data-show-note="0"] .receipt-note {
            display: none;
        }

        .preview-container[data-show-created-by="0"] .created-by-info {
            display: none;
        }

        .preview-container[data-show-signatures="0"] .signature-section {
            display: none;
        }

        .preview-container[data-show-datetime="0"] .datetime-info {
            display: none;
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 24px;
            border-bottom: 2px solid #e5e5e5;
        }

        .company-logo {
            width: 120px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 8px;
            margin: 0 auto 16px;
        }

        .company-name {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .company-info {
            font-size: 13px;
            color: #737373;
            line-height: 1.8;
        }

        .receipt-address {
            font-size: 12px;
            color: #737373;
            margin-top: 4px;
        }

        .receipt-title-section {
            text-align: center;
            margin-bottom: 32px;
        }

        .receipt-title {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .transaction-id-display {
            font-size: 14px;
            color: #737373;
            font-family: 'Courier New', monospace;
        }

        .receipt-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
        }

        .info-group h4 {
            font-size: 11px;
            color: #737373;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .info-group p {
            font-size: 14px;
            line-height: 1.6;
            margin: 0;
        }

        .receipt-table {
            width: 100%;
            margin-bottom: 32px;
        }

        .receipt-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .receipt-table thead {
            background: #fafafa;
            border-top: 2px solid #e5e5e5;
            border-bottom: 2px solid #e5e5e5;
        }

        .receipt-table th {
            text-align: left;
            padding: 12px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #737373;
        }

        .receipt-table th:last-child {
            text-align: right;
        }

        .receipt-table td {
            padding: 12px;
            font-size: 14px;
            border-bottom: 1px solid #f5f5f5;
        }

        .receipt-table td:last-child {
            text-align: right;
            font-weight: 600;
        }

        .receipt-table tbody tr:last-child td {
            border-bottom: 2px solid #e5e5e5;
        }

        .items-overflow {
            display: none;
            font-size: 13px;
            color: #737373;
            font-style: italic;
            text-align: center;
            padding: 8px;
        }

        .receipt-total {
            text-align: right;
            margin-bottom: 32px;
        }

        .receipt-total-row {
            display: flex;
            justify-content: flex-end;
            gap: 40px;
            padding: 12px 0;
            font-size: 16px;
        }

        .receipt-total-row.final {
            border-top: 2px solid #e5e5e5;
            padding-top: 16px;
            margin-top: 8px;
        }

        .receipt-total-row.final .total-value {
            font-size: 24px;
            font-weight: 900;
            color: var(--primary);
        }

        .receipt-note {
            background: #fafafa;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 32px;
        }

        .receipt-note h4 {
            font-size: 12px;
            color: #737373;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .receipt-note p {
            font-size: 13px;
            line-height: 1.6;
            margin: 0;
        }

        .created-by-info {
            text-align: center;
            font-size: 13px;
            color: #737373;
            margin-bottom: 24px;
        }

        .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 40px;
            padding-top: 24px;
            border-top: 2px solid #e5e5e5;
        }

        .signature-box {
            text-align: center;
        }

        .signature-line {
            border-top: 2px solid #000;
            margin-bottom: 8px;
            padding-top: 60px;
        }

        .signature-label {
            font-size: 12px;
            color: #737373;
            font-weight: 600;
        }

        .receipt-footer {
            text-align: center;
            padding-top: 24px;
            border-top: 2px solid #e5e5e5;
            font-size: 12px;
            color: #737373;
            line-height: 1.8;
        }

        /* SETTINGS SIDEBAR */
        .settings-sidebar {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .settings-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 2px 12px var(--shadow);
        }

        .settings-card-title {
            font-size: 16px;
            font-weight: 800;
            letter-spacing: -0.01em;
            margin-bottom: 20px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .setting-description {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* TEMPLATE DROPDOWN */
        .template-select {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.2s;
            background: var(--surface);
            cursor: pointer;
        }

        .template-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }

        /* TOGGLE SWITCH */
        .toggle {
            position: relative;
            width: 44px;
            height: 24px;
            flex-shrink: 0;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #d1d5db;
            border-radius: 24px;
            transition: 0.3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        .toggle input:checked + .toggle-slider {
            background: var(--primary);
        }

        .toggle input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        /* ACTIONS CARD */
        .actions-card {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .action-btn-full {
            width: 100%;
            justify-content: center;
        }

        /* PRINT STYLES - DUAL COPY */
        .cut-divider {
            display: none;
        }

        @media print {
            body {
                background: white;
            }

            .site-nav,
            .page-header,
            .settings-sidebar,
            .preview-header {
                display: none !important;
            }

            .content-layout {
                grid-template-columns: 1fr;
                max-width: 100%;
            }

            .receipt-preview-wrapper {
                box-shadow: none;
                border: none;
                padding: 0;
            }

            .preview-container {
                transform: none !important;
            }

            .receipt-paper {
                box-shadow: none;
                border: none;
                max-width: 100%;
                page-break-inside: avoid;
                margin-bottom: 0;
                padding-bottom: 24px;
            }

            .cut-divider {
                display: block;
                text-align: center;
                padding: 16px 0;
                border-top: 2px dashed #000;
                border-bottom: 2px dashed #000;
                margin: 16px 0;
                font-size: 11px;
                color: #999;
                letter-spacing: 0.2em;
                page-break-inside: avoid;
            }

            .items-overflow {
                display: block !important;
            }
        }

        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .content-layout {
                grid-template-columns: 1fr;
            }

            .settings-sidebar {
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .receipt-paper {
                padding: 32px 24px;
            }

            .receipt-info-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .header-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .header-actions {
                width: 100%;
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .signature-section {
                grid-template-columns: 1fr;
                gap: 32px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<body>
<nav class="site-nav">
  <div class="nav-container">
            <a href="index.html" class="logo">
                <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="url(#nav-logo-gradient)"/>
                    <path d="M32 4 L38 10 L32 10 Z" fill="#000000" opacity="0.25"/>
                    <path d="M32 4 L32 10 L38 10" stroke="#047857" stroke-width="1.5" stroke-linejoin="round"/>
                    <line x1="14" y1="14" x2="30" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="19" x2="26" y2="19" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.8"/>
                    <line x1="14" y1="24" x2="30" y2="24" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                    <line x1="14" y1="29" x2="22" y2="29" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.7"/>
                    <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="#047857" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                        <linearGradient id="nav-logo-gradient" x1="24" y1="4" x2="24" y2="40" gradientUnits="userSpaceOnUse">
                            <stop offset="0%" stop-color="#059669"/>
                            <stop offset="100%" stop-color="#10b981"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span style="font-weight: 900; font-size: 1.5rem; margin-left: 10px; color: #000000; letter-spacing: -0.02em;">SpendNote</span>
            </a>
            <ul class="nav-links">
                <li><a href="spendnote-dashboard.html">Dashboard</a></li>
                <li><a href="spendnote-register-list.html">Cash Registers</a></li>
                <li><a href="spendnote-transaction-history.html">Transactions</a></li>
                <li><a href="spendnote-partner-list.html">Partners</a></li>
                <li><a href="spendnote-receipt-list.html" class="active">Receipts</a></li>
                <li><a href="spendnote-user-settings.html">Settings</a></li>
                <li><a href="spendnote-login.html" class="btn btn-secondary">Log out</a></li>
            </ul>
        </div>
    </nav>

    <!-- MAIN -->
    <div class="app-container">
        <main class="main-content">
        <div class="receipt-shell">
        <!-- HEADER -->
        <div class="page-header">
            <div class="breadcrumb">
                <a href="spendnote-transaction-detail.html">← Back to Transaction</a>
            </div>
            <div class="header-row">
                <h1 class="page-title">Receipt TRX-342</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="window.print()">
                        <i class="fas fa-print"></i>
                        Print
                    </button>
                    <button class="btn btn-secondary" onclick="alert('Download PDF\n\nIn production:\n- Generate PDF from receipt\n- Download file')">
                        <i class="fas fa-file-pdf"></i>
                        Download PDF
                    </button>
                    <button class="btn btn-primary" onclick="alert('Email Receipt\n\nIn production:\n- Open email dialog\n- Enter recipient email\n- Send receipt as PDF attachment')">
                        <i class="fas fa-envelope"></i>
                        Email Receipt
                    </button>
                </div>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="content-layout">
            <!-- RECEIPT PREVIEW -->
            <div class="receipt-preview-wrapper">
                <div class="preview-header">
                    <div class="preview-title">Receipt Preview</div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" id="zoomOut" onclick="zoomOut()" title="Zoom out"><i class="fas fa-minus"></i></button>
                        <button class="zoom-btn" id="zoomReset" onclick="zoomReset()" title="Reset zoom"><i class="fas fa-expand"></i></button>
                        <button class="zoom-btn" id="zoomIn" onclick="zoomIn()" title="Zoom in"><i class="fas fa-plus"></i></button>
                    </div>
                </div>

                <!-- RECEIPT -->
                <div class="preview-container" id="previewContainer" 
                     data-template="standard"
                     data-show-logo="1"
                     data-show-company="1"
                     data-show-address="0"
                     data-show-partner="1"
                     data-show-transaction-id="0"
                     data-show-note="1"
                     data-show-created-by="1"
                     data-show-signatures="1"
                     data-show-datetime="1">
                    <div class="receipt-paper" id="receipt">
                        <!-- Company Header -->
                        <div class="receipt-header">
                            <div class="company-logo"></div>
                            <h2 class="company-name">Your Company Name</h2>
                            <div class="company-info">
                                Main Office Register
                            </div>
                            <div class="receipt-address">
                                1234 Business Street, New York, NY 10001<br>
                                Phone: (555) 123-4567
                            </div>
                        </div>

                        <!-- Receipt Title -->
                        <div class="receipt-title-section">
                            <h1 class="receipt-title">PAYMENT CONFIRMATION</h1>
                            <div class="transaction-id-display">Transaction ID: TRX-342</div>
                        </div>

                        <!-- Info Grid -->
                        <div class="receipt-info-grid">
                            <div class="info-group datetime-info">
                                <h4>Date</h4>
                                <p>January 6, 2026<br>2:45 PM</p>
                            </div>
                            <div class="info-group">
                                <h4>Register</h4>
                                <p>Main Office (CR-001)</p>
                            </div>
                            <div class="info-group partner-details">
                                <h4>Partner</h4>
                                <p>
                                    <strong>John Smith</strong><br>
                                    CLIENT-4523
                                </p>
                            </div>
                            <div class="info-group">
                                <h4>Reference</h4>
                                <p>PO-2026-0142</p>
                            </div>
                        </div>

                        <!-- Line Items -->
                        <div class="receipt-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Consulting Services - Q4 2025</td>
                                        <td>$5,000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Project Management Fee</td>
                                        <td>$1,800.00</td>
                                    </tr>
                                    <tr>
                                        <td>Additional Support Hours</td>
                                        <td>$400.00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Total -->
                        <div class="receipt-total">
                            <div class="receipt-total-row final">
                                <div class="total-label"><strong>TOTAL AMOUNT</strong></div>
                                <div class="total-value">$7,200.00</div>
                            </div>
                        </div>

                        <!-- Note -->
                        <div class="receipt-note">
                            <h4>Note</h4>
                            <p>Payment received for Q4 consulting services. Client was very satisfied with the project outcomes.</p>
                        </div>

                        <!-- Created By -->
                        <div class="created-by-info">
                            Logged by Jane Doe
                        </div>

                        <!-- Signatures -->
                        <div class="signature-section">
                            <div class="signature-box">
                                <div class="signature-line"></div>
                                <div class="signature-label">At Handover</div>
                            </div>
                            <div class="signature-box">
                                <div class="signature-line"></div>
                                <div class="signature-label">Received By</div>
                            </div>
                        </div>

                        <!-- Footer -->
                        <div class="receipt-footer">
                            Thank you for your business!<br>
                            This is an official payment confirmation for your records.
                        </div>
                    </div>
                </div>
            </div>

            <!-- SETTINGS SIDEBAR -->
            <div class="settings-sidebar">
                <!-- Template Selection -->
                <div class="settings-card">
                    <h3 class="settings-card-title">Template</h3>
                    <select class="template-select" id="templateSelect" onchange="changeTemplate(this.value)">
                        <option value="standard">Standard (Default)</option>
                        <option value="compact">Compact</option>
                        <option value="minimal">Minimal</option>
                    </select>
                </div>

                <!-- Display Settings -->
                <div class="settings-card">
                    <h3 class="settings-card-title">Display Options</h3>
                    
                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Logo</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('logo', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Company Block</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('company', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Address</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" onchange="toggleVisibility('address', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Partner Details</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('partner', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Transaction ID</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" onchange="toggleVisibility('transaction-id', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Note</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('note', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Created By</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('created-by', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Signatures</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('signatures', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Show Date/Time</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" checked onchange="toggleVisibility('datetime', this.checked)">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Actions -->
                <div class="settings-card actions-card">
                    <h3 class="settings-card-title">Actions</h3>
                    <button class="btn btn-secondary action-btn-full" onclick="window.print()">
                        <i class="fas fa-print"></i>
                        Print Receipt
                    </button>
                    <button class="btn btn-primary action-btn-full" onclick="alert('Download PDF\n\nIn production:\n- Generate PDF\n- Download file')">
                        <i class="fas fa-download"></i>
                        Download PDF
                    </button>
                </div>
            </div>
        </div>
        </div>
        </main>
    </div>

    <script>
        let currentZoom = 1;
        const minZoom = 0.5;
        const maxZoom = 1.5;
        const zoomStep = 0.1;

        function updateZoom() {
            const container = document.getElementById('previewContainer');
            container.style.transform = `scale(${currentZoom})`;
            
            // Update button states
            document.getElementById('zoomOut').disabled = currentZoom <= minZoom;
            document.getElementById('zoomIn').disabled = currentZoom >= maxZoom;
        }

        function zoomIn() {
            if (currentZoom < maxZoom) {
                currentZoom = Math.min(currentZoom + zoomStep, maxZoom);
                updateZoom();
            }
        }

        function zoomOut() {
            if (currentZoom > minZoom) {
                currentZoom = Math.max(currentZoom - zoomStep, minZoom);
                updateZoom();
            }
        }

        function zoomReset() {
            currentZoom = 1;
            updateZoom();
        }

        function changeTemplate(template) {
            const container = document.getElementById('previewContainer');
            container.setAttribute('data-template', template);
        }

        function toggleVisibility(field, show) {
            const container = document.getElementById('previewContainer');
            container.setAttribute(`data-show-${field}`, show ? '1' : '0');
        }

        // Dual-copy print logic
        let printClone = null;
        let cutDivider = null;

        function limitLineItems(receiptElement) {
            const maxItems = 5;
            const tbody = receiptElement.querySelector('.receipt-table tbody');
            if (!tbody) return;

            const rows = tbody.querySelectorAll('tr');
            const totalItems = rows.length;

            if (totalItems > maxItems) {
                // Hide rows beyond index 4
                rows.forEach((row, index) => {
                    if (index >= maxItems) {
                        row.style.display = 'none';
                    }
                });

                // Add overflow message
                const overflowCount = totalItems - maxItems;
                const overflowDiv = document.createElement('div');
                overflowDiv.className = 'items-overflow';
                overflowDiv.textContent = `+${overflowCount} more item${overflowCount > 1 ? 's' : ''}`;
                
                const table = receiptElement.querySelector('.receipt-table');
                if (table && !table.nextElementSibling?.classList.contains('items-overflow')) {
                    table.parentNode.insertBefore(overflowDiv, table.nextSibling);
                }
            }
        }

        window.addEventListener('beforeprint', function() {
            const container = document.getElementById('previewContainer');
            const originalReceipt = document.getElementById('receipt');
            
            if (!originalReceipt) return;

            // Limit line items in original
            limitLineItems(originalReceipt);

            // Clone the receipt
            printClone = originalReceipt.cloneNode(true);
            printClone.id = 'receipt-copy';
            
            // Limit line items in clone
            limitLineItems(printClone);

            // Create cut divider
            cutDivider = document.createElement('div');
            cutDivider.className = 'cut-divider';
            cutDivider.innerHTML = '✂ - - - - - - - - - - - - CUT HERE - - - - - - - - - - - - ✂';

            // Insert divider and clone
            container.appendChild(cutDivider);
            container.appendChild(printClone);
        });

        window.addEventListener('afterprint', function() {
            const container = document.getElementById('previewContainer');
            const originalReceipt = document.getElementById('receipt');

            // Remove clone and divider
            if (printClone && printClone.parentNode) {
                printClone.parentNode.removeChild(printClone);
                printClone = null;
            }
            if (cutDivider && cutDivider.parentNode) {
                cutDivider.parentNode.removeChild(cutDivider);
                cutDivider = null;
            }

            // Restore original receipt (remove overflow messages and unhide rows)
            if (originalReceipt) {
                const tbody = originalReceipt.querySelector('.receipt-table tbody');
                if (tbody) {
                    const rows = tbody.querySelectorAll('tr');
                    rows.forEach(row => {
                        row.style.display = '';
                    });
                }

                const overflowMsg = originalReceipt.parentNode.querySelector('.items-overflow');
                if (overflowMsg) {
                    overflowMsg.parentNode.removeChild(overflowMsg);
                }
            }
        });

        // Initialize zoom buttons
        updateZoom();
    </script>

    <footer>
        <div class="footer-content">
            <div class="footer-brand">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 1rem;">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="url(#footer-logo-gradient)"/>
                        <path d="M32 4 L38 10 L32 10 Z" fill="#000000" opacity="0.25"/>
                        <path d="M32 4 L32 10 L38 10" stroke="#047857" stroke-width="1.5" stroke-linejoin="round"/>
                        <line x1="14" y1="14" x2="30" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                        <line x1="14" y1="19" x2="26" y2="19" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.8"/>
                        <line x1="14" y1="24" x2="30" y2="24" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                        <line x1="14" y1="29" x2="22" y2="29" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.7"/>
                        <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="#047857" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        <defs>
                            <linearGradient id="footer-logo-gradient" x1="24" y1="4" x2="24" y2="40" gradientUnits="userSpaceOnUse">
                                <stop offset="0%" stop-color="#059669"/>
                                <stop offset="100%" stop-color="#10b981"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 900; background: linear-gradient(135deg, #047857, #059669, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">SpendNote</h3>
                </div>
                <p>Professional cash receipt management for modern teams. Simple, secure, and transparent.</p>
                
                <form class="newsletter-form">
                    <input type="email" placeholder="your@email.com" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
            <div class="footer-links">
                <h4>Product</h4>
                <ul>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#pricing">Pricing</a></li>
                    <li><a href="/faq">FAQ</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <h4>Company</h4>
                <ul>
                    <li><a href="/about">About</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <h4>Legal</h4>
                <ul>
                    <li><a href="/terms">Terms</a></li>
                    <li><a href="/privacy">Privacy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div>
                <p>&copy; 2026 SpendNote. All rights reserved.</p>
                <p style="margin-top: 0.5rem;"><i class="fas fa-info-circle"></i> Proof of cash transfer only. Not a tax or accounting tool.</p>
            </div>
            <div class="footer-social">
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
    </footer>
</body>
</html>
